"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3375],{73375:function(e,i,t){t.d(i,{V:function(){return G}});var r=t(58823),l=t(2809),n=t(70917),s=t(1163),o=t(49715),a=t.n(o),p=t(67294),c=t(86896),u=t(44012),d=t(48785),y=t(40377),f=t(99038),h=t(51674);t(96823);var v=t(66747),C=t(92694),g=t(64127),b=t(48152);t(32914);var Z=t(48189),m=t(27029),x=t(66406),w=t(88008),P=t(47366),L=t(48622),k=t(59546),O=t(86707),E=t(86264),S=t(88259),_=t(12772),D=t(3385),j=t(48039),I=t(69092),M=t(49069),B=t(9474),T=t(12889),R=t(58074),X=t(27353),F=t(40839),U=function(e){(0,B.Z)(l,e);var i,t=(i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,R.Z)(l);if(i){var r=(0,R.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,T.Z)(this,e)});function l(e){var i,n=e.embedConfig,s=e.playlistPlayer,o=e.firstClipStartTimeSeconds,a=e.referrer;return(0,D.Z)(this,l),i=t.call(this,{embedConfig:n,player:s,initialClip:s.clips[0],firstClipStartTimeSeconds:o,playlistId:s.playlist.Id,referrer:a}),(0,r.Z)((0,I.Z)(i),"_playlistPlayer",void 0),(0,r.Z)((0,I.Z)(i),"_clipsLoadObservable",(0,F._)()),(0,r.Z)((0,I.Z)(i),"_clipsLoadErrorObservable",(0,F._)()),(0,r.Z)((0,I.Z)(i),"_clipsLoadStartObservable",(0,F._)()),i._playlistPlayer=s,s.onClipChange(function(){i._changeClip(s.clip)}),s.onClipsLoad(function(){i._clipsLoadObservable.dispatch()}),s.onClipsLoadError(function(){i._clipsLoadErrorObservable.dispatch()}),s.onClipsLoadStart(function(){i._clipsLoadStartObservable.dispatch()}),i}return(0,j.Z)(l,[{key:"clips",get:function(){return this._playlistPlayer.clips}},{key:"currentClip",get:function(){return this._playlistPlayer.clip}},{key:"nextClipsDisabled",get:function(){return this._playlistPlayer.nextClipsDisabled}},{key:"nextClipsError",get:function(){return this._playlistPlayer.nextClipsError}},{key:"nextClipsLoading",get:function(){return this._playlistPlayer.nextClipsLoading}},{key:"previousClipsDisabled",get:function(){return this._playlistPlayer.previousClipsDisabled}},{key:"previousClipsError",get:function(){return this._playlistPlayer.previousClipsError}},{key:"previousClipsLoading",get:function(){return this._playlistPlayer.previousClipsLoading}},{key:"loadNextClips",value:function(e){this._playlistPlayer.loadNextClips(e)}},{key:"loadPreviousClips",value:function(e){this._playlistPlayer.loadPreviousClips(e)}},{key:"setCurrentClipIndex",value:function(e){this._playlistPlayer.currentClipIndex=e}},{key:"onClipsLoad",get:function(){return this._clipsLoadObservable.observe}},{key:"onClipsLoadError",get:function(){return this._clipsLoadErrorObservable.observe}},{key:"onClipsLoadStart",get:function(){return this._clipsLoadStartObservable.observe}},{key:"_onClipEnded",value:function(){(0,M.Z)((0,R.Z)(l.prototype),"_onClipEnded",this).call(this);var e=this._playlistPlayer,i=e.clips.findIndex(function(i){return i.Id===e.clip.Id});if(i<0)throw Error("Could not find index for clip "+e.clip.Id);var t=i+1;t>=e.clips.length||(e.currentClipIndex=t,this.play())}}]),l}(X.Y),z=t(54547),N=t(5048),H=t(70890);function Y(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);i&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function A(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Y(Object(t),!0).forEach(function(i){(0,r.Z)(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}var $=t(40927),q=t(72045),Q=t(1825),V=t(41818),W=t(35944);function G(e){var i=(0,c.Z)();switch(i.formatMessage({id:"2ruWr0",defaultMessage:[{type:0,value:"The playlist does not exist or may be private"}]}),i.formatMessage({id:"MwPyxY",defaultMessage:[{type:0,value:"There was an error loading the embed player"}]}),e.type){case"error":return(0,W.BX)(v.SR,{children:[(0,W.tZ)(v.i1,{}),(0,W.tZ)(v.tI,{children:(0,W.tZ)(u.Z,{id:"63Uj+A",defaultMessage:[{type:0,value:"Error loading embed player"}]})}),(0,W.tZ)(v.VR,{})]});case"notFound":return(0,W.BX)(v.SR,{children:[(0,W.tZ)(v.Uw,{children:(0,W.tZ)(L.Ul,{})}),(0,W.tZ)(v.tI,{children:(0,W.tZ)(u.Z,{id:"z6Zo5y",defaultMessage:[{type:0,value:"The playlist is unavailable"}]})})]});case"success":var t=e.playlist,r=e.initialPlaylistPage,l=e.config,n=0===r.Clips.length?(0,W.BX)(v.SR,{children:[(0,W.tZ)(v.Uw,{children:(0,W.tZ)(L.Ul,{})}),(0,W.tZ)(v.tI,{children:(0,W.tZ)(u.Z,{id:"o8SfRw",defaultMessage:[{type:0,value:"This playlist contains no episodes"}]})})]}):(0,W.tZ)(J,{playlist:t,initialPlaylistPage:r,config:l});return(0,W.tZ)(W.HY,{children:n})}}function J(e){var i,t,r,l,n,o,a,c,u,h,v,g,b,Z,m,w,P,L=e.playlist,D=e.initialPlaylistPage,j=e.config,I=(v=null!==(i=(t=p.useRef(null)).current)&&void 0!==i?i:(o=(0,S.M)(),a=(0,E.K5)("omnyFmTrafficBaseUrl"),c=(0,E.tQ)("embedDisableConsumptionAnalytics"),u=new N.M({accessToken:null!==(r=j.accessToken)&&void 0!==r?r:void 0,autoMount:!1,consumptionSource:"Web",decorateClipAudioUrl:"browser"===o.type?(0,_.c)(o,j):void 0,onConsumptionError:function(e,i){return(0,H.H)(e,{extra:i})},trafficBaseUrl:a,disableConsumptionAnalytics:c,apiMiddleware:x.T}).createPlaylistPlayer(L,D,null!==(l=j.selectedClipId)&&void 0!==l?l:void 0),h=new U({embedConfig:j,playlistPlayer:u,firstClipStartTimeSeconds:null!==(n=j.firstClipStartTimeSeconds)&&void 0!==n?n:void 0,referrer:"browser"===o.type?o.referrer:""}),t.current=h,h),g=p.useState(function(){return{player:(0,z.pg)(v),playlist:{clips:v.clips,currentClip:v.currentClip,previousClipsDisabled:v.previousClipsDisabled,previousClipsError:v.previousClipsError,previousClipsLoading:v.previousClipsLoading,nextClipsDisabled:v.nextClipsDisabled,nextClipsError:v.nextClipsError,nextClipsLoading:v.nextClipsLoading}}}),Z=(b=(0,s.Z)(g,2))[0],m=b[1],w=p.useMemo(function(){return{player:(0,z.pm)(v),playlist:{loadNextClips:v.loadNextClips.bind(v),loadPreviousClips:v.loadPreviousClips.bind(v),setCurrentClipIndex:v.setCurrentClipIndex.bind(v)}}},[v]),P=p.useMemo(function(){return A(A(A(A({},Z.player),Z.playlist),w.player),w.playlist)},[Z,w]),p.useEffect(function(){v.mount(),(0,z.y9)(v,function(e){m(function(i){return(0,O.updateObject)(i,{player:e(i.player)})})}),v.onClipChange(function(){m(function(e){return(0,O.updateObject)(e,{playlist:(0,O.updateObject)(e.playlist,{currentClip:v.currentClip})})})}),v.onClipsLoad(function(){m(function(e){return(0,O.updateObject)(e,{playlist:(0,O.updateObject)(e.playlist,{clips:v.clips,previousClipsDisabled:v.previousClipsDisabled,previousClipsError:v.previousClipsError,previousClipsLoading:v.previousClipsLoading,nextClipsDisabled:v.nextClipsDisabled,nextClipsError:v.nextClipsError,nextClipsLoading:v.nextClipsLoading})})})}),v.onClipsLoadError(function(){m(function(e){return(0,O.updateObject)(e,{playlist:(0,O.updateObject)(e.playlist,{previousClipsError:v.previousClipsError,previousClipsLoading:v.previousClipsLoading,nextClipsError:v.nextClipsError,nextClipsLoading:v.nextClipsLoading})})})}),v.onClipsLoadStart(function(){m(function(e){return(0,O.updateObject)(e,{playlist:(0,O.updateObject)(e.playlist,{previousClipsLoading:v.previousClipsLoading,nextClipsLoading:v.nextClipsLoading})})})}),(0,z.GT)(v,j)},[j,v]),P),M=I.currentClip,B=(0,k.U)();return(0,W.BX)(C.v,{clip:M,config:j,grow:j.showPlaylist,metadata:{title:L.Title},player:I,children:[(0,W.tZ)(d.m,{withContent:j.showPlaylist}),(0,W.tZ)(f.cc,{directoryLinks:L.DirectoryLinks,withContent:j.showPlaylist,onSetOverlay:B.setOverlay}),j.showPlaylist?(0,W.tZ)(ei,{player:I,playlist:L}):null,(0,W.tZ)(y.C,{program:M.Program,clipOverlay:B})]})}var K={name:"186qpv0",styles:"padding:10px;position:relative;z-index:1"},ee={name:"zjik7",styles:"display:flex"};function ei(e){var i=e.player,t=e.playlist,r=(0,h.j)(),o=p.useState(null),c=(0,s.Z)(o,2),d=c[0],y=c[1],v=p.useState(null),C=(0,s.Z)(v,2),g=C[0],b=C[1];p.useEffect(function(){d&&g&&(0,q.i)(d,g)},[g,d]);var Z=p.useMemo(function(){return null===r.playlistClipLimit?50:Math.min(50,r.playlistClipLimit-i.clips.length)},[r.playlistClipLimit,i.clips.length]),m=Z<=0;return(0,W.BX)("section",{ref:y,css:(0,n.iv)({flex:"1 0",overflowY:"auto",position:"relative",color:r.colorForeground,zIndex:0,"&:before":[Q.Mv,{left:f.h0,right:f.h0,top:"0"}]},"",""),children:[(0,W.BX)("div",{css:K,children:[(0,W.BX)("div",{css:ee,children:[(0,W.tZ)("h1",{css:[V.v.bold,"flex:1 0;font-size:13.2px;line-height:1.7;",""],children:r.showPlaylistShare?(0,W.tZ)("a",{css:Q.F2,href:(0,P.R1)({playlistProgram:{Slug:t.ProgramSlug},playlist:t}),target:"_blank",rel:"noreferrer",children:(0,W.tZ)("bdi",{children:t.Title})}):(0,W.tZ)("bdi",{children:t.Title})}),r.showPlaylistShare?(0,W.tZ)($.F,{directoryLinks:t.DirectoryLinks}):null]}),t.Description&&r.showDescription?(0,W.tZ)("p",{css:[Q.FF,"font-size:12px;line-height:1.7;",""],children:(0,W.tZ)("bdi",{children:t.Description})}):null]}),i.previousClipsDisabled||m?null:(0,W.tZ)(er,{loading:i.previousClipsLoading,onClick:(0,l.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.loadPreviousClips(Z));case 1:case"end":return e.stop()}},e)})),children:i.previousClipsError?(0,W.tZ)(u.Z,{id:"QOr6OT",defaultMessage:[{type:0,value:"Error loading previous episodes. Try again?"}]}):(0,W.tZ)(u.Z,{id:"hll+c2",defaultMessage:[{type:0,value:"Load previous"}]})}),(0,W.tZ)("ul",{children:i.clips.map(function(e,t){var r=e.Id===i.currentClip.Id;return(0,W.tZ)(eu,{ref:r?b:void 0,clip:e,index:t,player:i,isCurrentClip:r},e.Id)})}),i.nextClipsDisabled||m?null:(0,W.tZ)(er,{loading:i.nextClipsLoading,onClick:(0,l.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.loadNextClips(Z));case 1:case"end":return e.stop()}},e)})),children:i.nextClipsError?(0,W.tZ)(u.Z,{id:"UFgxRu",defaultMessage:[{type:0,value:"Error loading more episodes. Try again?"}]}):(0,W.tZ)(u.Z,{id:"uhZY0b",defaultMessage:[{type:0,value:"Load more"}]})})]})}var et={name:"z2n695",styles:"background:currentColor;opacity:0.1;height:1px;position:absolute;top:0;left:0;right:0"};function er(e){var i=e.loading,t=e.children,r=e.onClick;return(0,W.BX)("button",{type:"button",css:[Q.d$,"font-size:12px;line-height:1.7;padding:10px;position:relative;width:100%;",""],disabled:i,onClick:r,children:[(0,W.tZ)("div",{css:et}),(0,W.tZ)("span",{style:{visibility:i?"hidden":void 0},children:t}),i?(0,W.tZ)("div",{css:[Q.v8,Q.wm,"",""],children:(0,W.tZ)(b.$,{})}):null]})}var el=(0,w.S)(),en={name:"bjn8wh",styles:"position:relative"},es={name:"1u2mevv",styles:"background:currentColor;position:absolute;height:1px;top:0;right:0;left:0;opacity:0.1"},eo={name:"4kbfpd",styles:"position:absolute;top:1px;right:0;bottom:0;left:0;transition:0.2s opacity"},ea={name:"1dt7hb6",styles:"display:flex;flex:1 0;font-size:12px;line-height:1.7;min-width:0"},ep={name:"139yxq1",styles:"display:flex;flex:1 1;flex-direction:column;min-width:0"},ec={name:"gxrjc0",styles:"display:flex;flex-direction:column;align-items:flex-end;flex:none"},eu=p.forwardRef(function(e,i){var t=e.clip,r=e.index,l=e.player,n=e.isCurrentClip,o=(0,h.j)(),a=p.useState(!1),c=(0,s.Z)(a,2),u=c[0],d=c[1];return p.useEffect(function(){d(!0)},[]),(0,W.BX)("li",{ref:i,css:en,children:[(0,W.tZ)("div",{role:"presentation",css:es}),(0,W.tZ)("div",{role:"presentation",css:eo,style:{background:o.colorForeground,opacity:n?"0.08":"0"}}),(0,W.BX)("button",{type:"button",className:el.parentClassName,css:[Q.d$,"align-items:center;display:flex;padding:8px 10px;position:relative;text-align:inherit;width:100%;",""],onClick:function(){l.setCurrentClipIndex(r),l.play()},children:[o.showPlaylistImages?(0,W.BX)(W.HY,{children:[(0,W.tZ)(ef,{clip:t,config:o,isCurrentClip:n}),(0,W.tZ)(g.g,{width:10})]}):null,(0,W.BX)("div",{css:ea,children:[(0,W.BX)("div",{css:ep,children:[(0,W.tZ)(eh,{clip:t,config:o}),o.showPlaylistImages?(0,W.tZ)(eg,{clip:t}):null]}),(0,W.tZ)(g.g,{width:12}),(0,W.BX)("div",{css:ec,children:[(0,W.tZ)(eC,{clip:t}),o.showPlaylistImages?(0,W.tZ)(eZ,{clip:t,hasMounted:u}):null]})]})]})]})}),ed={name:"1mwrlba",styles:"border-radius:4px;flex:0 0 auto;height:36px;overflow:hidden;position:relative;width:36px"},ey={name:"1tdsxa2",styles:"width:100%;height:100%;position:absolute"};function ef(e){var i,t=e.clip,l=e.config,n=e.isCurrentClip;return(0,W.BX)("div",{css:ed,children:[(0,W.tZ)("img",{src:(0,m.Hn)(t.ImageUrl,"thumbnail"),css:ey,alt:""}),(0,W.tZ)("div",{role:"presentation",css:[Q.v8,(i={opacity:n?"1":"0",transition:"all .2s"},(0,r.Z)(i,el.childSelector,{opacity:"1"}),(0,r.Z)(i,"& svg",{height:16,left:"50%",opacity:n?"1":"0.7",position:"absolute",top:"50%",transform:"translate(-50%, -50%)",transition:"all .2s",width:16}),i),"",""],style:{background:l.colorHighlight,color:l.colorHighlightInvert},children:(0,W.tZ)(L.JF,{})})]})}function eh(e){var i=e.clip,t=e.config;return(0,W.tZ)("bdi",{css:[t.showPlaylistImages?V.v.semibold:null,Q.FF,(0,r.Z)({flex:"1 0"},el.childSelector,{textDecoration:"underline"}),"",""],children:i.Title})}var ev={name:"10i7m94",styles:"opacity:0.7"};function eC(e){var i=e.clip,t=p.useMemo(function(){return(0,Z.R)(i.DurationSeconds)},[i.DurationSeconds]);return(0,W.tZ)("div",{css:ev,children:t})}function eg(e){var i=e.clip;return(0,W.tZ)("p",{css:[Q.FF,"flex:1 0;opacity:0.7;",""],children:(0,W.tZ)("bdi",{children:i.Description})})}var eb={name:"10i7m94",styles:"opacity:0.7"};function eZ(e){var i=e.clip,t=e.hasMounted,r=(0,c.Z)(),l=p.useMemo(function(){if(!t)return null;var e=(0,Z.pB)(i.PublishedUtc);return{long:r.formatDate(e,{year:"numeric",month:"long",day:"numeric",weekday:"long",hour12:!0,hour:"numeric",minute:"2-digit"}),short:r.formatDate(e,{month:"short",day:"numeric"})}},[r,t,i.PublishedUtc]);return l?(0,W.tZ)("span",{css:eb,title:l.long,children:l.short}):null}}}]);
